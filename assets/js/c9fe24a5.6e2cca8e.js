"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[42954],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,k=m["".concat(o,".").concat(u)]||m[u]||c[u]||i;return a?n.createElement(k,s(s({ref:t},d),{},{components:a})):n.createElement(k,s({ref:t},d))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=u;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[m]="string"==typeof e?e:r,s[1]=l;for(var p=2;p<i;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},18679:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),r=a(86010);const i={tabItem:"tabItem_Ymn6"};function s(e){let{children:t,hidden:a,className:s}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(i.tabItem,s),hidden:a},t)}},73992:(e,t,a)=>{a.d(t,{Z:()=>v});var n=a(87462),r=a(67294),i=a(86010),s=a(72957),l=a(16550),o=a(75238),p=a(33609),d=a(92560);function m(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function c(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??m(a);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function u(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function k(e){let{queryString:t=!1,groupId:a}=e;const n=(0,l.k6)(),i=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,o._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,i=c(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!u({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[o,p]=k({queryString:a,groupId:n}),[m,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,i]=(0,d.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:n}),N=(()=>{const e=o??m;return u({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{N&&l(N)}),[N]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!u({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),f(e)}),[p,f,i]),tabValues:i}}var N=a(51048);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function g(e){let{className:t,block:a,selectedValue:l,selectValue:o,tabValues:p}=e;const d=[],{blockElementScrollPositionUntilNextRender:m}=(0,s.o5)(),c=e=>{const t=e.currentTarget,a=d.indexOf(t),n=p[a].value;n!==l&&(m(t),o(n))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;t=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;t=d[a]??d[d.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:s}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>d.push(e),onKeyDown:u,onClick:c},s,{className:(0,i.Z)("tabs__item",h.tabItem,s?.className,{"tabs__item--active":l===t})}),a??t)})))}function b(e){let{lazy:t,children:a,selectedValue:n}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function y(e){const t=f(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",h.tabList)},r.createElement(g,(0,n.Z)({},e,t)),r.createElement(b,(0,n.Z)({},e,t)))}function v(e){const t=(0,N.Z)();return r.createElement(y,(0,n.Z)({key:String(t)},e))}},36903:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>k,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var n=a(87462),r=(a(67294),a(3905)),i=a(73992),s=a(18679);const l={sidebar_position:40,title:"PowerBI",slug:"/generated/ingestion/sources/powerbi",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/powerbi.md"},o="PowerBI",p={unversionedId:"docs/generated/ingestion/sources/powerbi",id:"docs/generated/ingestion/sources/powerbi",title:"PowerBI",description:"There are 2 sources that provide integration with PowerBI",source:"@site/genDocs/docs/generated/ingestion/sources/powerbi.md",sourceDirName:"docs/generated/ingestion/sources",slug:"/generated/ingestion/sources/powerbi",permalink:"/docs/next/generated/ingestion/sources/powerbi",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/powerbi.md",tags:[],version:"current",sidebarPosition:40,frontMatter:{sidebar_position:40,title:"PowerBI",slug:"/generated/ingestion/sources/powerbi",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/powerbi.md"},sidebar:"overviewSidebar",previous:{title:"Postgres",permalink:"/docs/next/generated/ingestion/sources/postgres"},next:{title:"Presto",permalink:"/docs/next/generated/ingestion/sources/presto"}},d={},m=[{value:"Module <code>powerbi</code>",id:"module-powerbi",level:2},{value:"Important Capabilities",id:"important-capabilities",level:3},{value:"Configuration Notes",id:"configuration-notes",level:2},{value:"Concept mapping",id:"concept-mapping",level:2},{value:"Lineage",id:"lineage",level:2},{value:"M-Query Pattern Supported For Lineage Extraction",id:"m-query-pattern-supported-for-lineage-extraction",level:2},{value:"Extract endorsements to tags",id:"extract-endorsements-to-tags",level:2},{value:"Admin Ingestion vs. Basic Ingestion",id:"admin-ingestion-vs-basic-ingestion",level:2},{value:"Admin Ingestion: Service Principal As Admin in Tenant Setting and Added as Member In Workspace",id:"admin-ingestion-service-principal-as-admin-in-tenant-setting-and-added-as-member-in-workspace",level:3},{value:"Basic Ingestion: Service Principal As Member In Workspace",id:"basic-ingestion-service-principal-as-member-in-workspace",level:3},{value:"CLI based Ingestion",id:"cli-based-ingestion",level:3},{value:"Install the Plugin",id:"install-the-plugin",level:4},{value:"Starter Recipe",id:"starter-recipe",level:3},{value:"Config Details",id:"config-details",level:3},{value:"Code Coordinates",id:"code-coordinates",level:3},{value:"Module <code>powerbi-report-server</code>",id:"module-powerbi-report-server",level:2},{value:"Important Capabilities",id:"important-capabilities-1",level:3},{value:"Configuration Notes",id:"configuration-notes-1",level:2},{value:"Concept mapping",id:"concept-mapping-1",level:2},{value:"CLI based Ingestion",id:"cli-based-ingestion-1",level:3},{value:"Install the Plugin",id:"install-the-plugin-1",level:4},{value:"Starter Recipe",id:"starter-recipe-1",level:3},{value:"Config Details",id:"config-details-1",level:3},{value:"Code Coordinates",id:"code-coordinates-1",level:3}],c={toc:m},u="wrapper";function k(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"powerbi"},"PowerBI"),(0,r.kt)("p",null,"There are 2 sources that provide integration with PowerBI"),(0,r.kt)("table",null,(0,r.kt)("tr",null,(0,r.kt)("td",null,"Source Module"),(0,r.kt)("td",null,"Documentation")),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"powerbi"))),(0,r.kt)("td",null,(0,r.kt)("p",null,"This plugin extracts the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Power BI dashboards, tiles and datasets"),(0,r.kt)("li",{parentName:"ul"},"Names, descriptions and URLs of dashboard and tile"),(0,r.kt)("li",{parentName:"ul"},"Owners of dashboards\n",(0,r.kt)("a",{parentName:"li",href:"#module-powerbi"},"Read more..."))))),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"powerbi-report-server"))),(0,r.kt)("td",null,(0,r.kt)("p",null,"Use this plugin to connect to ",(0,r.kt)("a",{parentName:"p",href:"https://powerbi.microsoft.com/en-us/report-server/"},"PowerBI Report Server"),".\nIt extracts the following:"),(0,r.kt)("p",null,"Metadata that can be ingested:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"report name"),(0,r.kt)("li",{parentName:"ul"},"report description"),(0,r.kt)("li",{parentName:"ul"},"ownership(can add existing users in DataHub as owners)"),(0,r.kt)("li",{parentName:"ul"},"transfer folders structure to DataHub as it is in Report Server"),(0,r.kt)("li",{parentName:"ul"},"webUrl to report in Report Server")),(0,r.kt)("p",null,"Due to limits of PBIRS REST API, it's impossible to ingest next data for now:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"tiles info"),(0,r.kt)("li",{parentName:"ul"},"datasource of report"),(0,r.kt)("li",{parentName:"ul"},"dataset of report")),(0,r.kt)("p",null,"Next types of report can be ingested:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PowerBI report(.pbix)"),(0,r.kt)("li",{parentName:"ul"},"Paginated report(.rdl)"),(0,r.kt)("li",{parentName:"ul"},"Linked report\n",(0,r.kt)("a",{parentName:"li",href:"#module-powerbi-report-server"},"Read more...")))))),(0,r.kt)("h2",{id:"module-powerbi"},"Module ",(0,r.kt)("inlineCode",{parentName:"h2"},"powerbi")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://img.shields.io/badge/support%20status-certified-brightgreen",alt:"Certified"})),(0,r.kt)("h3",{id:"important-capabilities"},"Important Capabilities"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Capability"),(0,r.kt)("th",{parentName:"tr",align:null},"Status"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Column-level Lineage"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Disabled by default, configured using ",(0,r.kt)("inlineCode",{parentName:"td"},"extract_column_level_lineage"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Descriptions"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabled by default")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/next/metadata-ingestion/docs/dev_guides/stateful#stale-entity-removal"},"Detect Deleted Entities")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Optionally enabled via ",(0,r.kt)("inlineCode",{parentName:"td"},"stateful_ingestion.remove_stale_metadata"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Extract Ownership"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Disabled by default, configured using ",(0,r.kt)("inlineCode",{parentName:"td"},"extract_ownership"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/docs/next/platform-instances"},"Platform Instance")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabled by default")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Table-Level Lineage"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabled by default, configured using ",(0,r.kt)("inlineCode",{parentName:"td"},"extract_lineage"),".")))),(0,r.kt)("p",null,"This plugin extracts the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Power BI dashboards, tiles and datasets"),(0,r.kt)("li",{parentName:"ul"},"Names, descriptions and URLs of dashboard and tile"),(0,r.kt)("li",{parentName:"ul"},"Owners of dashboards")),(0,r.kt)("h2",{id:"configuration-notes"},"Configuration Notes"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Refer ",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/power-bi/developer/embedded/embed-service-principal"},"Microsoft AD App Creation doc")," to create a Microsoft AD Application. Once Microsoft AD Application is created you can configure client-credential i.e. client_id and client_secret in recipe for ingestion.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Enable admin access only if you want to ingest dataset, lineage and endorsement tags. Refer section ",(0,r.kt)("a",{parentName:"p",href:"#admin-ingestion-vs-basic-ingestion"},"Admin Ingestion vs. Basic Ingestion")," for more detail. "),(0,r.kt)("p",{parentName:"li"},"Login to PowerBI as Admin and from ",(0,r.kt)("inlineCode",{parentName:"p"},"Admin API settings")," allow below permissions"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Allow service principals to use read-only admin APIs"),(0,r.kt)("li",{parentName:"ul"},"Enhance admin APIs responses with detailed metadata"),(0,r.kt)("li",{parentName:"ul"},"Enhance admin APIs responses with DAX and mashup expressions")))),(0,r.kt)("h2",{id:"concept-mapping"},"Concept mapping"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"PowerBI"),(0,r.kt)("th",{parentName:"tr",align:null},"Datahub"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dataset's Table")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dataset"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Tile")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Chart"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Report.webUrl")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Chart.externalUrl"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Workspace")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Container"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Report")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Page")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Chart"))))),(0,r.kt)("p",null,"If Tile is created from report then Chart.externalUrl is set to Report.webUrl."),(0,r.kt)("h2",{id:"lineage"},"Lineage"),(0,r.kt)("p",null,"This source extract table lineage for tables present in PowerBI Datasets. Lets consider a PowerBI Dataset ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_REPORT")," and a PostgreSQL database is configured as data-source in ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_REPORT")," dataset. "),(0,r.kt)("p",null,"Consider ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_REPORT")," PowerBI Dataset has a table ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_ANALYSIS")," which is backed by ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_ANALYSIS_VIEW")," of PostgreSQL Database then in this case ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_ANALYSIS_VIEW")," will appear as upstream dataset for ",(0,r.kt)("inlineCode",{parentName:"p"},"SALES_ANALYSIS")," table."),(0,r.kt)("p",null,"You can control table lineage ingestion using ",(0,r.kt)("inlineCode",{parentName:"p"},"extract_lineage")," configuration parameter, by default it is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),". "),(0,r.kt)("p",null,"PowerBI Source extracts the lineage information by parsing PowerBI M-Query expression."),(0,r.kt)("p",null,"PowerBI Source supports M-Query expression for below listed PowerBI Data Sources "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Snowflake "),(0,r.kt)("li",{parentName:"ol"},"Oracle "),(0,r.kt)("li",{parentName:"ol"},"PostgreSQL"),(0,r.kt)("li",{parentName:"ol"},"Microsoft SQL Server"),(0,r.kt)("li",{parentName:"ol"},"Google BigQuery")),(0,r.kt)("p",null,"Native SQL query parsing is supported for ",(0,r.kt)("inlineCode",{parentName:"p"},"Snowflake")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Amazon Redshift")," data-sources."),(0,r.kt)("p",null,"For example refer below native SQL query. The table ",(0,r.kt)("inlineCode",{parentName:"p"},"OPERATIONS_ANALYTICS.TRANSFORMED_PROD.V_UNIT_TARGET")," will be ingested as upstream table."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'let\n  Source = Value.NativeQuery(\n    Snowflake.Databases(\n      "sdfsd788.ws-east-2.fakecomputing.com", \n      "operations_analytics_prod", \n      [Role = "OPERATIONS_ANALYTICS_MEMBER"]\n    ){[Name = "OPERATIONS_ANALYTICS"]}[Data], \n    "select #(lf)UPPER(REPLACE(AGENT_NAME,\\\'-\\\',\\\'\\\')) AS Agent,#(lf)TIER,#(lf)UPPER(MANAGER),#(lf)TEAM_TYPE,#(lf)DATE_TARGET,#(lf)MONTHID,#(lf)TARGET_TEAM,#(lf)SELLER_EMAIL,#(lf)concat((UPPER(REPLACE(AGENT_NAME,\\\'-\\\',\\\'\\\'))), MONTHID) as AGENT_KEY,#(lf)UNIT_TARGET AS SME_Quota,#(lf)AMV_TARGET AS Revenue_Quota,#(lf)SERVICE_QUOTA,#(lf)BL_TARGET,#(lf)SOFTWARE_QUOTA as Software_Quota#(lf)#(lf)from OPERATIONS_ANALYTICS.TRANSFORMED_PROD.V_UNIT_TARGETS#(lf)#(lf)where YEAR_TARGET >= 2020#(lf)and TEAM_TYPE = \\\'foo\\\'#(lf)and TARGET_TEAM = \\\'bar\\\'", \n    null, \n    [EnableFolding = true]\n  ), \n  #"Added Conditional Column" = Table.AddColumn(\n    Source, \n    "Has PS Software Quota?", \n    each \n      if [TIER] = "Expansion (Medium)" then\n        "Yes"\n      else if [TIER] = "Acquisition" then\n        "Yes"\n      else\n        "No"\n  )\nin\n  #"Added Conditional Column"\n')),(0,r.kt)("p",null,"Use full-table-name in ",(0,r.kt)("inlineCode",{parentName:"p"},"from")," clause. For example dev.public.category "),(0,r.kt)("h2",{id:"m-query-pattern-supported-for-lineage-extraction"},"M-Query Pattern Supported For Lineage Extraction"),(0,r.kt)("p",null,"Lets consider a M-Query which combine two PostgreSQL tables. Such M-Query can be written as per below patterns."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Pattern-1")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'let\nSource = PostgreSQL.Database("localhost", "book_store"),\nbook_date = Source{[Schema="public",Item="book"]}[Data],\nissue_history = Source{[Schema="public",Item="issue_history"]}[Data],\ncombine_result  = Table.Combine({book_date, issue_history})\nin\ncombine_result\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Pattern-2")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'let\nSource = PostgreSQL.Database("localhost", "book_store"),\ncombine_result  = Table.Combine({Source{[Schema="public",Item="book"]}[Data], Source{[Schema="public",Item="issue_history"]}[Data]})\nin\ncombine_result\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Pattern-2")," is ",(0,r.kt)("em",{parentName:"p"},"not")," supported for upstream table lineage extraction as it uses nested item-selector i.e. {Source{",'[Schema="public",Item="book"]',"}","[Data]",", Source{",'[Schema="public",Item="issue_history"]',"}","[Data]","} as argument to M-QUery table function i.e. Table.Combine"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Pattern-1")," is supported as it first assign the table from schema to variable and then variable is used in M-Query Table function i.e. Table.Combine"),(0,r.kt)("h2",{id:"extract-endorsements-to-tags"},"Extract endorsements to tags"),(0,r.kt)("p",null,"By default, extracting endorsement information to tags is disabled. The feature may be useful if organization uses ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/power-bi/collaborate-share/service-endorse-content"},"endorsements")," to identify content quality."),(0,r.kt)("p",null,"Please note that the default implementation overwrites tags for the ingested entities, if you need to preserve existing tags, consider using a ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/metadata-ingestion/docs/transformer/dataset_transformer#simple-add-dataset-globaltags"},"transformer")," with ",(0,r.kt)("inlineCode",{parentName:"p"},"semantics: PATCH")," tags instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"OVERWRITE"),"."),(0,r.kt)("h2",{id:"admin-ingestion-vs-basic-ingestion"},"Admin Ingestion vs. Basic Ingestion"),(0,r.kt)("p",null,"PowerBI provides two sets of API i.e. ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/rest/api/power-bi/"},"Basic API and Admin API"),". "),(0,r.kt)("p",null,"The Basic API returns metadata of PowerBI resources where service principal has granted access explicitly on resources whereas Admin API returns metadata of all PowerBI resources irrespective of whether service principal has granted or doesn't granted access explicitly  on resources."),(0,r.kt)("p",null,"The Admin Ingestion (explain below) is the recommended way to execute PowerBI ingestion as this ingestion can extract most of the metadata."),(0,r.kt)("h3",{id:"admin-ingestion-service-principal-as-admin-in-tenant-setting-and-added-as-member-in-workspace"},"Admin Ingestion: Service Principal As Admin in Tenant Setting and Added as Member In Workspace"),(0,r.kt)("p",null,"To grant admin access to the service principal, visit your PowerBI tenant Settings."),(0,r.kt)("p",null,"If you have added service principal as ",(0,r.kt)("inlineCode",{parentName:"p"},"member")," in workspace and also allowed below permissions from PowerBI tenant Settings"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Allow service principal to use read-only PowerBI Admin APIs"),(0,r.kt)("li",{parentName:"ul"},"Enhance admin APIs responses with detailed metadata"),(0,r.kt)("li",{parentName:"ul"},"Enhance admin APIs responses with DAX and mashup expressions")),(0,r.kt)("p",null,"PowerBI Source would be able to ingest below listed metadata of that particular workspace "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Lineage "),(0,r.kt)("li",{parentName:"ul"},"PowerBI Dataset "),(0,r.kt)("li",{parentName:"ul"},"Endorsement as tag"),(0,r.kt)("li",{parentName:"ul"},"Dashboards "),(0,r.kt)("li",{parentName:"ul"},"Reports "),(0,r.kt)("li",{parentName:"ul"},"Dashboard's Tiles"),(0,r.kt)("li",{parentName:"ul"},"Report's Pages")),(0,r.kt)("p",null,"If you don't want to add a service principal as a member in your workspace, then you can enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"admin_apis_only: true")," in recipe to use PowerBI Admin API only. "),(0,r.kt)("p",null,"Caveats of setting ",(0,r.kt)("inlineCode",{parentName:"p"},"admin_apis_only")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Report's pages would not get ingested as page API is not available in PowerBI Admin API"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/power-query/power-query-query-parameters"},"PowerBI Parameters")," would not get resolved to actual values while processing M-Query for table lineage")),(0,r.kt)("h3",{id:"basic-ingestion-service-principal-as-member-in-workspace"},"Basic Ingestion: Service Principal As Member In Workspace"),(0,r.kt)("p",null,"If you have added service principal as ",(0,r.kt)("inlineCode",{parentName:"p"},"member")," in workspace then PowerBI Source would be able ingest below metadata of that particular workspace "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Dashboards "),(0,r.kt)("li",{parentName:"ul"},"Reports "),(0,r.kt)("li",{parentName:"ul"},"Dashboard's Tiles"),(0,r.kt)("li",{parentName:"ul"},"Report's Pages")),(0,r.kt)("h3",{id:"cli-based-ingestion"},"CLI based Ingestion"),(0,r.kt)("h4",{id:"install-the-plugin"},"Install the Plugin"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"pip install 'acryl-datahub[powerbi]'\n")),(0,r.kt)("h3",{id:"starter-recipe"},"Starter Recipe"),(0,r.kt)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,r.kt)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,r.kt)("p",null,"For general pointers on writing and running a recipe, see our ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: "powerbi"\n  config:\n    # Your Power BI tenant identifier\n    tenant_id: a949d688-67c0-4bf1-a344-e939411c6c0a\n\n    # Azure AD Application identifier\n    client_id: foo\n    # Azure AD App client secret\n    client_secret: bar\n    \n    # Ingest elements of below PowerBi Workspace into Datahub\n    workspace_id_pattern:\n      allow:\n        - 4bd10256-e999-45dd-8e56-571c77153a5f\n      deny:\n\n    # Enable / Disable ingestion of ownership information for dashboards\n    extract_ownership: true\n    \n    # Enable/Disable extracting workspace information to DataHub containers\n    extract_workspaces_to_containers: true\n    \n    # Enable / Disable ingestion of endorsements.\n    # Please notice that this may overwrite any existing tags defined to ingested entities!\n    extract_endorsements_to_tags: false\n    \n    # Optional -- This mapping is optional and only required to configure platform-instance for upstream tables\n    # A mapping of PowerBI datasource\'s server i.e host[:port] to data platform instance.\n    # :port is optional and only needed if your datasource server is running on non-standard port.\n    # For Google BigQuery the datasource\'s server is google bigquery project name\n    server_to_platform_instance:\n        ap-south-1.snowflakecomputing.com:\n          platform_instance: operational_instance\n          env: DEV\n        oracle-server:1920:\n          platform_instance: high_performance_production_unit\n          env: PROD\n        big-query-sales-project:\n          platform_instance: sn-2\n          env: QA\n\n    # Need admin_api, only ingest workspace that are modified since...\n    modified_since: "2023-02-10T00:00:00.0000000Z"\n\n    ownership:\n        # create powerbi user as datahub corpuser, false will still extract ownership of workspace/ dashboards\n        create_corp_user: false\n        # use email to build user urn instead of powerbi user identifier\n        use_powerbi_email: true\n        # remove email suffix like @acryl.io\n        remove_email_suffix: true\n        # only ingest user with certain authority\n        owner_criteria: ["ReadWriteReshareExplore","Owner","Admin"]\n    # wrap powerbi tables (datahub dataset) under 1 powerbi dataset (datahub container)\n    extract_datasets_to_containers: true\n    # only ingest dataset that are endorsed, like "Certified"\n    filter_dataset_endorsements: \n      allow:\n        - Certified\n      \n    # extract powerbi dashboards and tiles\n    extract_dashboards: false\n    # extract powerbi dataset table schema\n    extract_dataset_schema: true\n\n\nsink:\n  # sink configs\n\n')),(0,r.kt)("h3",{id:"config-details"},"Config Details"),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"options",label:"Options",default:!0,mdxType:"TabItem"},(0,r.kt)("p",null,"Note that a ",(0,r.kt)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,r.kt)("div",{className:"config-table"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"client_id"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Azure app client identifier")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"client_secret"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Azure app client secret")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"tenant_id"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"PowerBI tenant identifier")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"admin_apis_only"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Retrieve metadata using PowerBI Admin API only. If this is enabled, then Report Pages will not be extracted. Admin API access is required if this setting is enabled ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"convert_lineage_urns_to_lowercase"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to convert the urns of ingested lineage dataset to lowercase ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"convert_urns_to_lowercase"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to convert the PowerBI assets urns to lowercase ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"enable_advance_lineage_sql_construct"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to enable advance native sql construct for parsing like join, sub-queries. along this flag , the native_query_parsing should be enabled. By default convert_lineage_urns_to_lowercase is enabled, in-case if you have disabled it in previous ingestion execution then it may break lineage as this option generates the upstream datasets URN in lowercase. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_column_level_lineage"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to extract column level lineage. Works only if configs ",(0,r.kt)("inlineCode",{parentName:"td"},"native_query_parsing"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"enable_advance_lineage_sql_construct")," & ",(0,r.kt)("inlineCode",{parentName:"td"},"extract_lineage")," are enabled.  Works for M-Query where native SQL is used for transformation. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_dashboards"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to ingest PBI Dashboard and Tiles as Datahub Dashboard and Chart ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_dataset_schema"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to ingest PBI Dataset Table columns and measures ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_datasets_to_containers"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"PBI tables will be grouped under a Datahub Container, the container reflect a PBI Dataset ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_endorsements_to_tags"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to extract endorsements to tags, note that this may overwrite existing tags. Admin API access is required is this setting is enabled ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_independent_datasets"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to extract datasets not used in any PowerBI visualization ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_lineage"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether lineage should be ingested between X and Y. Admin API access is required if this setting is enabled ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_ownership"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether ownership should be ingested. Admin API access is required if this setting is enabled. Note that enabling this may overwrite owners that you've added inside DataHub's web application. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_reports"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether reports should be ingested ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_workspaces_to_containers"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Extract workspaces to DataHub containers ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"modified_since"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Get only recently modified workspaces based on modified_since datetime '2023-02-10T00:00:00.0000000Z', excludePersonalWorkspaces and excludeInActiveWorkspaces limit to last 30 days")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"native_query_parsing"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether PowerBI native query should be parsed to extract lineage ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"platform_instance"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The instance of the platform that all assets produced by this recipe belong to")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"scan_batch_size"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"integer"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"batch size for sending workspace_ids to PBI, 100 is the limit ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"1")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"scan_timeout"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"integer"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"timeout for PowerBI metadata scanning ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"60")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"workspace_id_as_urn_part"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Highly recommend changing this to True, as you can have the same workspace nameTo maintain backward compatability, this is set to False which uses workspace name ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"env"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The environment that all assets produced by this connector belong to ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"PROD")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"filter_dataset_endorsements"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"AllowDenyPattern"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Filter and ingest datasets which are 'Certified' or 'Promoted' endorsement. If both are added, dataset which are 'Certified' or 'Promoted' will be ingested . Default setting allows all dataset to be ingested ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"{","'","allow","'",": ","[","'",".","*","'","]",", ","'","deny","'",": ","[","]",", ","'","ignoreCase","'",": True","}")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"filter_dataset_endorsements."),(0,r.kt)("span",{className:"path-main"},"ignoreCase"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"filter_dataset_endorsements."),(0,r.kt)("span",{className:"path-main"},"allow"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to include in ingestion ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","'",".","*","'","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"filter_dataset_endorsements.allow."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"filter_dataset_endorsements."),(0,r.kt)("span",{className:"path-main"},"deny"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to exclude from ingestion. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"filter_dataset_endorsements.deny."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"ownership"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"OwnershipMapping"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Configure how is ownership ingested ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"{","'","create","_","corp","_","user","'",": True, ","'","use","_","powerbi","_","email","'",": Fa...")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"ownership."),(0,r.kt)("span",{className:"path-main"},"create_corp_user"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether ingest PowerBI user as Datahub Corpuser ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"ownership."),(0,r.kt)("span",{className:"path-main"},"dataset_configured_by_as_owner"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Take PBI dataset configuredBy as dataset owner if exist ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"ownership."),(0,r.kt)("span",{className:"path-main"},"remove_email_suffix"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Remove PowerBI User email suffix for example, @acryl.io ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"ownership."),(0,r.kt)("span",{className:"path-main"},"use_powerbi_email"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Use PowerBI User email to ingest as corpuser, default is powerbi user identifier ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"ownership."),(0,r.kt)("span",{className:"path-main"},"owner_criteria"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Need to have certain authority to qualify as owner for example ","['ReadWriteReshareExplore','Owner','Admin']")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"ownership.owner_criteria."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"server_to_platform_instance"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"map(str,PlatformDetail)"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"server_to_platform_instance.",(0,r.kt)("inlineCode",{parentName:"td"},"key"),"."),(0,r.kt)("span",{className:"path-main"},"platform_instance"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"DataHub platform instance name. To generate correct urn for upstream dataset, this should match with platform instance name used in ingestion recipe of other datahub sources.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"server_to_platform_instance.",(0,r.kt)("inlineCode",{parentName:"td"},"key"),"."),(0,r.kt)("span",{className:"path-main"},"env"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The environment that all assets produced by DataHub platform ingestion source belong to ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"PROD")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"workspace_id_pattern"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"AllowDenyPattern"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Regex patterns to filter PowerBI workspaces in ingestion ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"{","'","allow","'",": ","[","'",".","*","'","]",", ","'","deny","'",": ","[","]",", ","'","ignoreCase","'",": True","}")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"workspace_id_pattern."),(0,r.kt)("span",{className:"path-main"},"ignoreCase"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"workspace_id_pattern."),(0,r.kt)("span",{className:"path-main"},"allow"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to include in ingestion ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","'",".","*","'","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"workspace_id_pattern.allow."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"workspace_id_pattern."),(0,r.kt)("span",{className:"path-main"},"deny"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to exclude from ingestion. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"workspace_id_pattern.deny."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"stateful_ingestion"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"StatefulStaleMetadataRemovalConfig"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"PowerBI Stateful Ingestion Config.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"stateful_ingestion."),(0,r.kt)("span",{className:"path-main"},"enabled"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether or not to enable stateful ingest. Default: True if datahub-rest sink is used or if a ",(0,r.kt)("inlineCode",{parentName:"td"},"datahub_api")," is specified, otherwise False ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"False")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"stateful_ingestion."),(0,r.kt)("span",{className:"path-main"},"remove_stale_metadata"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Soft-deletes the entities present in the last successful run but missing in the current run with stateful_ingestion enabled. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))))))),(0,r.kt)(s.Z,{value:"schema",label:"Schema",mdxType:"TabItem"},(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://json-schema.org/"},"JSONSchema")," for this configuration is inlined below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "title": "PowerBiDashboardSourceConfig",\n  "description": "Base configuration class for stateful ingestion for source configs to inherit from.",\n  "type": "object",\n  "properties": {\n    "env": {\n      "title": "Env",\n      "description": "The environment that all assets produced by this connector belong to",\n      "default": "PROD",\n      "type": "string"\n    },\n    "platform_instance": {\n      "title": "Platform Instance",\n      "description": "The instance of the platform that all assets produced by this recipe belong to",\n      "type": "string"\n    },\n    "stateful_ingestion": {\n      "title": "Stateful Ingestion",\n      "description": "PowerBI Stateful Ingestion Config.",\n      "allOf": [\n        {\n          "$ref": "#/definitions/StatefulStaleMetadataRemovalConfig"\n        }\n      ]\n    },\n    "tenant_id": {\n      "title": "Tenant Id",\n      "description": "PowerBI tenant identifier",\n      "type": "string"\n    },\n    "workspace_id_pattern": {\n      "title": "Workspace Id Pattern",\n      "description": "Regex patterns to filter PowerBI workspaces in ingestion",\n      "default": {\n        "allow": [\n          ".*"\n        ],\n        "deny": [],\n        "ignoreCase": true\n      },\n      "allOf": [\n        {\n          "$ref": "#/definitions/AllowDenyPattern"\n        }\n      ]\n    },\n    "server_to_platform_instance": {\n      "title": "Server To Platform Instance",\n      "description": "A mapping of PowerBI datasource\'s server i.e host[:port] to Data platform instance. :port is optional and only needed if your datasource server is running on non-standard port.For Google BigQuery the datasource\'s server is google bigquery project name",\n      "default": {},\n      "type": "object",\n      "additionalProperties": {\n        "$ref": "#/definitions/PlatformDetail"\n      }\n    },\n    "client_id": {\n      "title": "Client Id",\n      "description": "Azure app client identifier",\n      "type": "string"\n    },\n    "client_secret": {\n      "title": "Client Secret",\n      "description": "Azure app client secret",\n      "type": "string"\n    },\n    "scan_timeout": {\n      "title": "Scan Timeout",\n      "description": "timeout for PowerBI metadata scanning",\n      "default": 60,\n      "type": "integer"\n    },\n    "scan_batch_size": {\n      "title": "Scan Batch Size",\n      "description": "batch size for sending workspace_ids to PBI, 100 is the limit",\n      "default": 1,\n      "exclusiveMinimum": 0,\n      "maximum": 100,\n      "type": "integer"\n    },\n    "workspace_id_as_urn_part": {\n      "title": "Workspace Id As Urn Part",\n      "description": "Highly recommend changing this to True, as you can have the same workspace nameTo maintain backward compatability, this is set to False which uses workspace name",\n      "default": false,\n      "type": "boolean"\n    },\n    "extract_ownership": {\n      "title": "Extract Ownership",\n      "description": "Whether ownership should be ingested. Admin API access is required if this setting is enabled. Note that enabling this may overwrite owners that you\'ve added inside DataHub\'s web application.",\n      "default": false,\n      "type": "boolean"\n    },\n    "extract_reports": {\n      "title": "Extract Reports",\n      "description": "Whether reports should be ingested",\n      "default": true,\n      "type": "boolean"\n    },\n    "ownership": {\n      "title": "Ownership",\n      "description": "Configure how is ownership ingested",\n      "default": {\n        "create_corp_user": true,\n        "use_powerbi_email": false,\n        "remove_email_suffix": false,\n        "dataset_configured_by_as_owner": false,\n        "owner_criteria": null\n      },\n      "allOf": [\n        {\n          "$ref": "#/definitions/OwnershipMapping"\n        }\n      ]\n    },\n    "modified_since": {\n      "title": "Modified Since",\n      "description": "Get only recently modified workspaces based on modified_since datetime \'2023-02-10T00:00:00.0000000Z\', excludePersonalWorkspaces and excludeInActiveWorkspaces limit to last 30 days",\n      "type": "string"\n    },\n    "extract_dashboards": {\n      "title": "Extract Dashboards",\n      "description": "Whether to ingest PBI Dashboard and Tiles as Datahub Dashboard and Chart",\n      "default": true,\n      "type": "boolean"\n    },\n    "extract_dataset_schema": {\n      "title": "Extract Dataset Schema",\n      "description": "Whether to ingest PBI Dataset Table columns and measures",\n      "default": false,\n      "type": "boolean"\n    },\n    "extract_lineage": {\n      "title": "Extract Lineage",\n      "description": "Whether lineage should be ingested between X and Y. Admin API access is required if this setting is enabled",\n      "default": true,\n      "type": "boolean"\n    },\n    "extract_endorsements_to_tags": {\n      "title": "Extract Endorsements To Tags",\n      "description": "Whether to extract endorsements to tags, note that this may overwrite existing tags. Admin API access is required is this setting is enabled",\n      "default": false,\n      "type": "boolean"\n    },\n    "filter_dataset_endorsements": {\n      "title": "Filter Dataset Endorsements",\n      "description": "Filter and ingest datasets which are \'Certified\' or \'Promoted\' endorsement. If both are added, dataset which are \'Certified\' or \'Promoted\' will be ingested . Default setting allows all dataset to be ingested",\n      "default": {\n        "allow": [\n          ".*"\n        ],\n        "deny": [],\n        "ignoreCase": true\n      },\n      "allOf": [\n        {\n          "$ref": "#/definitions/AllowDenyPattern"\n        }\n      ]\n    },\n    "extract_workspaces_to_containers": {\n      "title": "Extract Workspaces To Containers",\n      "description": "Extract workspaces to DataHub containers",\n      "default": true,\n      "type": "boolean"\n    },\n    "extract_datasets_to_containers": {\n      "title": "Extract Datasets To Containers",\n      "description": "PBI tables will be grouped under a Datahub Container, the container reflect a PBI Dataset",\n      "default": false,\n      "type": "boolean"\n    },\n    "native_query_parsing": {\n      "title": "Native Query Parsing",\n      "description": "Whether PowerBI native query should be parsed to extract lineage",\n      "default": true,\n      "type": "boolean"\n    },\n    "convert_urns_to_lowercase": {\n      "title": "Convert Urns To Lowercase",\n      "description": "Whether to convert the PowerBI assets urns to lowercase",\n      "default": false,\n      "type": "boolean"\n    },\n    "convert_lineage_urns_to_lowercase": {\n      "title": "Convert Lineage Urns To Lowercase",\n      "description": "Whether to convert the urns of ingested lineage dataset to lowercase",\n      "default": true,\n      "type": "boolean"\n    },\n    "admin_apis_only": {\n      "title": "Admin Apis Only",\n      "description": "Retrieve metadata using PowerBI Admin API only. If this is enabled, then Report Pages will not be extracted. Admin API access is required if this setting is enabled",\n      "default": false,\n      "type": "boolean"\n    },\n    "extract_independent_datasets": {\n      "title": "Extract Independent Datasets",\n      "description": "Whether to extract datasets not used in any PowerBI visualization",\n      "default": false,\n      "type": "boolean"\n    },\n    "enable_advance_lineage_sql_construct": {\n      "title": "Enable Advance Lineage Sql Construct",\n      "description": "Whether to enable advance native sql construct for parsing like join, sub-queries. along this flag , the native_query_parsing should be enabled. By default convert_lineage_urns_to_lowercase is enabled, in-case if you have disabled it in previous ingestion execution then it may break lineage as this option generates the upstream datasets URN in lowercase.",\n      "default": false,\n      "type": "boolean"\n    },\n    "extract_column_level_lineage": {\n      "title": "Extract Column Level Lineage",\n      "description": "Whether to extract column level lineage. Works only if configs `native_query_parsing`, `enable_advance_lineage_sql_construct` & `extract_lineage` are enabled.  Works for M-Query where native SQL is used for transformation.",\n      "default": false,\n      "type": "boolean"\n    }\n  },\n  "required": [\n    "tenant_id",\n    "client_id",\n    "client_secret"\n  ],\n  "additionalProperties": false,\n  "definitions": {\n    "DynamicTypedStateProviderConfig": {\n      "title": "DynamicTypedStateProviderConfig",\n      "type": "object",\n      "properties": {\n        "type": {\n          "title": "Type",\n          "description": "The type of the state provider to use. For DataHub use `datahub`",\n          "type": "string"\n        },\n        "config": {\n          "title": "Config",\n          "description": "The configuration required for initializing the state provider. Default: The datahub_api config if set at pipeline level. Otherwise, the default DatahubClientConfig. See the defaults (https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/src/datahub/ingestion/graph/client.py#L19).",\n          "default": {},\n          "type": "object"\n        }\n      },\n      "required": [\n        "type"\n      ],\n      "additionalProperties": false\n    },\n    "StatefulStaleMetadataRemovalConfig": {\n      "title": "StatefulStaleMetadataRemovalConfig",\n      "description": "Base specialized config for Stateful Ingestion with stale metadata removal capability.",\n      "type": "object",\n      "properties": {\n        "enabled": {\n          "title": "Enabled",\n          "description": "Whether or not to enable stateful ingest. Default: True if datahub-rest sink is used or if a `datahub_api` is specified, otherwise False",\n          "default": false,\n          "type": "boolean"\n        },\n        "remove_stale_metadata": {\n          "title": "Remove Stale Metadata",\n          "description": "Soft-deletes the entities present in the last successful run but missing in the current run with stateful_ingestion enabled.",\n          "default": true,\n          "type": "boolean"\n        }\n      },\n      "additionalProperties": false\n    },\n    "AllowDenyPattern": {\n      "title": "AllowDenyPattern",\n      "description": "A class to store allow deny regexes",\n      "type": "object",\n      "properties": {\n        "allow": {\n          "title": "Allow",\n          "description": "List of regex patterns to include in ingestion",\n          "default": [\n            ".*"\n          ],\n          "type": "array",\n          "items": {\n            "type": "string"\n          }\n        },\n        "deny": {\n          "title": "Deny",\n          "description": "List of regex patterns to exclude from ingestion.",\n          "default": [],\n          "type": "array",\n          "items": {\n            "type": "string"\n          }\n        },\n        "ignoreCase": {\n          "title": "Ignorecase",\n          "description": "Whether to ignore case sensitivity during pattern matching.",\n          "default": true,\n          "type": "boolean"\n        }\n      },\n      "additionalProperties": false\n    },\n    "PlatformDetail": {\n      "title": "PlatformDetail",\n      "type": "object",\n      "properties": {\n        "platform_instance": {\n          "title": "Platform Instance",\n          "description": "DataHub platform instance name. To generate correct urn for upstream dataset, this should match with platform instance name used in ingestion recipe of other datahub sources.",\n          "type": "string"\n        },\n        "env": {\n          "title": "Env",\n          "description": "The environment that all assets produced by DataHub platform ingestion source belong to",\n          "default": "PROD",\n          "type": "string"\n        }\n      },\n      "additionalProperties": false\n    },\n    "OwnershipMapping": {\n      "title": "OwnershipMapping",\n      "type": "object",\n      "properties": {\n        "create_corp_user": {\n          "title": "Create Corp User",\n          "description": "Whether ingest PowerBI user as Datahub Corpuser",\n          "default": true,\n          "type": "boolean"\n        },\n        "use_powerbi_email": {\n          "title": "Use Powerbi Email",\n          "description": "Use PowerBI User email to ingest as corpuser, default is powerbi user identifier",\n          "default": false,\n          "type": "boolean"\n        },\n        "remove_email_suffix": {\n          "title": "Remove Email Suffix",\n          "description": "Remove PowerBI User email suffix for example, @acryl.io",\n          "default": false,\n          "type": "boolean"\n        },\n        "dataset_configured_by_as_owner": {\n          "title": "Dataset Configured By As Owner",\n          "description": "Take PBI dataset configuredBy as dataset owner if exist",\n          "default": false,\n          "type": "boolean"\n        },\n        "owner_criteria": {\n          "title": "Owner Criteria",\n          "description": "Need to have certain authority to qualify as owner for example [\'ReadWriteReshareExplore\',\'Owner\',\'Admin\']",\n          "type": "array",\n          "items": {\n            "type": "string"\n          }\n        }\n      },\n      "additionalProperties": false\n    }\n  }\n}\n')))),(0,r.kt)("h3",{id:"code-coordinates"},"Code Coordinates"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Class Name: ",(0,r.kt)("inlineCode",{parentName:"li"},"datahub.ingestion.source.powerbi.powerbi.PowerBiDashboardSource")),(0,r.kt)("li",{parentName:"ul"},"Browse on ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/src/datahub/ingestion/source/powerbi/powerbi.py"},"GitHub"))),(0,r.kt)("h2",{id:"module-powerbi-report-server"},"Module ",(0,r.kt)("inlineCode",{parentName:"h2"},"powerbi-report-server")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://img.shields.io/badge/support%20status-incubating-blue",alt:"Incubating"})),(0,r.kt)("h3",{id:"important-capabilities-1"},"Important Capabilities"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Capability"),(0,r.kt)("th",{parentName:"tr",align:null},"Status"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Extract Ownership"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabled by default")))),(0,r.kt)("p",null,"Use this plugin to connect to ",(0,r.kt)("a",{parentName:"p",href:"https://powerbi.microsoft.com/en-us/report-server/"},"PowerBI Report Server"),".\nIt extracts the following:"),(0,r.kt)("p",null,"Metadata that can be ingested:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"report name"),(0,r.kt)("li",{parentName:"ul"},"report description"),(0,r.kt)("li",{parentName:"ul"},"ownership(can add existing users in DataHub as owners)"),(0,r.kt)("li",{parentName:"ul"},"transfer folders structure to DataHub as it is in Report Server"),(0,r.kt)("li",{parentName:"ul"},"webUrl to report in Report Server")),(0,r.kt)("p",null,"Due to limits of PBIRS REST API, it's impossible to ingest next data for now:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"tiles info"),(0,r.kt)("li",{parentName:"ul"},"datasource of report"),(0,r.kt)("li",{parentName:"ul"},"dataset of report")),(0,r.kt)("p",null,"Next types of report can be ingested:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PowerBI report(.pbix)"),(0,r.kt)("li",{parentName:"ul"},"Paginated report(.rdl)"),(0,r.kt)("li",{parentName:"ul"},"Linked report")),(0,r.kt)("h2",{id:"configuration-notes-1"},"Configuration Notes"),(0,r.kt)("p",null,"See the "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/sql/reporting-services/security/grant-user-access-to-a-report-server?view=sql-server-ver16"},"Microsoft Grant user access to a Report Server doc")),(0,r.kt)("li",{parentName:"ol"},"Use your user credentials from previous step in yaml file")),(0,r.kt)("h2",{id:"concept-mapping-1"},"Concept mapping"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Power BI Report Server"),(0,r.kt)("th",{parentName:"tr",align:null},"Datahub"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Paginated Report")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Power BI Report")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Mobile Report")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Linked Report")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dashboard"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Dataset, Datasource")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"N/A"))))),(0,r.kt)("h3",{id:"cli-based-ingestion-1"},"CLI based Ingestion"),(0,r.kt)("h4",{id:"install-the-plugin-1"},"Install the Plugin"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"pip install 'acryl-datahub[powerbi-report-server]'\n")),(0,r.kt)("h3",{id:"starter-recipe-1"},"Starter Recipe"),(0,r.kt)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,r.kt)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,r.kt)("p",null,"For general pointers on writing and running a recipe, see our ",(0,r.kt)("a",{parentName:"p",href:"/docs/next/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"source:\n  type: powerbi-report-server\n  config:\n    # Your Power BI Report Server Windows username\n    username: username\n    # Your Power BI Report Server Windows password\n    password: password\n    # Your Workstation name\n    workstation_name: workstation_name\n    # Your Power BI Report Server host URL, example: localhost:80\n    host_port: host_port\n    # Your alias for Power BI Report Server host URL, example: local_powerbi_report_server\n    server_alias: server_alias\n    # Workspace's dataset environments, example: (PROD, DEV, QA, STAGE)\n    env: DEV\n    # Your Power BI Report Server base virtual directory name for reports\n    report_virtual_directory_name: Reports\n    #  Your Power BI Report Server base virtual directory name for report server\n    report_server_virtual_directory_name: ReportServer\n    # Enable/Disable extracting ownership information of Dashboard\n    extract_ownership: True\n    # Set ownership type\n    ownership_type: TECHNICAL_OWNER\n\n\nsink:\n  # sink configs\n")),(0,r.kt)("h3",{id:"config-details-1"},"Config Details"),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"options",label:"Options",default:!0,mdxType:"TabItem"},(0,r.kt)("p",null,"Note that a ",(0,r.kt)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,r.kt)("div",{className:"config-table"},(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"host_port"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Power BI Report Server host URL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"password"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Windows account password")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"report_server_virtual_directory_name"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Report Server Virtual Directory URL name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"report_virtual_directory_name"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Report Virtual Directory URL name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"username"),"\xa0",(0,r.kt)("abbr",{title:"Required"},"\u2705"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Windows account username")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"extract_ownership"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether ownership should be ingested ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"graphql_url"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"[deprecated]"," Not used")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"ownership_type"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Ownership type of owner ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"NONE")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"platform_name"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"default-line "},"Default: ",(0,r.kt)("span",{className:"default-value"},"powerbi")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"platform_urn"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"default-line "},"Default: ",(0,r.kt)("span",{className:"default-value"},"urn:li:dataPlatform:powerbi")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"server_alias"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Alias for Power BI Report Server host URL ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"})))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"workstation_name"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Workstation name ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"localhost")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"env"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"The environment that all assets produced by this connector belong to ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"PROD")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"chart_pattern"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"AllowDenyPattern"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"default-line "},"Default: ",(0,r.kt)("span",{className:"default-value"},"{","'","allow","'",": ","[","'",".","*","'","]",", ","'","deny","'",": ","[","]",", ","'","ignoreCase","'",": True","}")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"chart_pattern."),(0,r.kt)("span",{className:"path-main"},"ignoreCase"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"chart_pattern."),(0,r.kt)("span",{className:"path-main"},"allow"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to include in ingestion ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","'",".","*","'","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"chart_pattern.allow."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"chart_pattern."),(0,r.kt)("span",{className:"path-main"},"deny"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to exclude from ingestion. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"chart_pattern.deny."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-main"},"report_pattern"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"AllowDenyPattern"))),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"default-line "},"Default: ",(0,r.kt)("span",{className:"default-value"},"{","'","allow","'",": ","[","'",".","*","'","]",", ","'","deny","'",": ","[","]",", ","'","ignoreCase","'",": True","}")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"report_pattern."),(0,r.kt)("span",{className:"path-main"},"ignoreCase"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"boolean"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"True")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"report_pattern."),(0,r.kt)("span",{className:"path-main"},"allow"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to include in ingestion ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","'",".","*","'","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"report_pattern.allow."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"report_pattern."),(0,r.kt)("span",{className:"path-main"},"deny"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"array"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"List of regex patterns to exclude from ingestion. ",(0,r.kt)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,r.kt)("span",{className:"default-value"},"[","]")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("div",{className:"path-line"},(0,r.kt)("span",{className:"path-prefix"},"report_pattern.deny."),(0,r.kt)("span",{className:"path-main"},"string"))," ",(0,r.kt)("div",{className:"type-name-line"},(0,r.kt)("span",{className:"type-name"},"string"))),(0,r.kt)("td",{parentName:"tr",align:"left"})))))),(0,r.kt)(s.Z,{value:"schema",label:"Schema",mdxType:"TabItem"},(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://json-schema.org/"},"JSONSchema")," for this configuration is inlined below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "title": "PowerBiReportServerDashboardSourceConfig",\n  "description": "Any source that produces dataset urns in a single environment should inherit this class",\n  "type": "object",\n  "properties": {\n    "env": {\n      "title": "Env",\n      "description": "The environment that all assets produced by this connector belong to",\n      "default": "PROD",\n      "type": "string"\n    },\n    "username": {\n      "title": "Username",\n      "description": "Windows account username",\n      "type": "string"\n    },\n    "password": {\n      "title": "Password",\n      "description": "Windows account password",\n      "type": "string"\n    },\n    "workstation_name": {\n      "title": "Workstation Name",\n      "description": "Workstation name",\n      "default": "localhost",\n      "type": "string"\n    },\n    "host_port": {\n      "title": "Host Port",\n      "description": "Power BI Report Server host URL",\n      "type": "string"\n    },\n    "server_alias": {\n      "title": "Server Alias",\n      "description": "Alias for Power BI Report Server host URL",\n      "default": "",\n      "type": "string"\n    },\n    "graphql_url": {\n      "title": "Graphql Url",\n      "description": "[deprecated] Not used",\n      "type": "string"\n    },\n    "report_virtual_directory_name": {\n      "title": "Report Virtual Directory Name",\n      "description": "Report Virtual Directory URL name",\n      "type": "string"\n    },\n    "report_server_virtual_directory_name": {\n      "title": "Report Server Virtual Directory Name",\n      "description": "Report Server Virtual Directory URL name",\n      "type": "string"\n    },\n    "extract_ownership": {\n      "title": "Extract Ownership",\n      "description": "Whether ownership should be ingested",\n      "default": true,\n      "type": "boolean"\n    },\n    "ownership_type": {\n      "title": "Ownership Type",\n      "description": "Ownership type of owner",\n      "default": "NONE",\n      "type": "string"\n    },\n    "platform_name": {\n      "title": "Platform Name",\n      "default": "powerbi",\n      "type": "string"\n    },\n    "platform_urn": {\n      "title": "Platform Urn",\n      "default": "urn:li:dataPlatform:powerbi",\n      "type": "string"\n    },\n    "report_pattern": {\n      "title": "Report Pattern",\n      "default": {\n        "allow": [\n          ".*"\n        ],\n        "deny": [],\n        "ignoreCase": true\n      },\n      "allOf": [\n        {\n          "$ref": "#/definitions/AllowDenyPattern"\n        }\n      ]\n    },\n    "chart_pattern": {\n      "title": "Chart Pattern",\n      "default": {\n        "allow": [\n          ".*"\n        ],\n        "deny": [],\n        "ignoreCase": true\n      },\n      "allOf": [\n        {\n          "$ref": "#/definitions/AllowDenyPattern"\n        }\n      ]\n    }\n  },\n  "required": [\n    "username",\n    "password",\n    "host_port",\n    "report_virtual_directory_name",\n    "report_server_virtual_directory_name"\n  ],\n  "additionalProperties": false,\n  "definitions": {\n    "AllowDenyPattern": {\n      "title": "AllowDenyPattern",\n      "description": "A class to store allow deny regexes",\n      "type": "object",\n      "properties": {\n        "allow": {\n          "title": "Allow",\n          "description": "List of regex patterns to include in ingestion",\n          "default": [\n            ".*"\n          ],\n          "type": "array",\n          "items": {\n            "type": "string"\n          }\n        },\n        "deny": {\n          "title": "Deny",\n          "description": "List of regex patterns to exclude from ingestion.",\n          "default": [],\n          "type": "array",\n          "items": {\n            "type": "string"\n          }\n        },\n        "ignoreCase": {\n          "title": "Ignorecase",\n          "description": "Whether to ignore case sensitivity during pattern matching.",\n          "default": true,\n          "type": "boolean"\n        }\n      },\n      "additionalProperties": false\n    }\n  }\n}\n')))),(0,r.kt)("h3",{id:"code-coordinates-1"},"Code Coordinates"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Class Name: ",(0,r.kt)("inlineCode",{parentName:"li"},"datahub.ingestion.source.powerbi_report_server.report_server.PowerBiReportServerDashboardSource")),(0,r.kt)("li",{parentName:"ul"},"Browse on ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/src/datahub/ingestion/source/powerbi_report_server/report_server.py"},"GitHub"))),(0,r.kt)("h2",null,"Questions"),(0,r.kt)("p",null,"If you've got any questions on configuring ingestion for PowerBI, feel free to ping us on ",(0,r.kt)("a",{parentName:"p",href:"https://slack.datahubproject.io"},"our Slack"),"."))}k.isMDXComponent=!0}}]);