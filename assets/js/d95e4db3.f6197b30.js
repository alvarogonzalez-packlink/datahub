"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[60653],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(r),m=n,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return r?a.createElement(h,i(i({ref:t},c),{},{components:r})):a.createElement(h,i({ref:t},c))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:n,i[1]=l;for(var u=2;u<o;u++)i[u]=r[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},456:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>u,toc:()=>d});r(67294);var a=r(3905);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const l={title:"Deploying with Docker",hide_title:!0,sidebar_label:"Deploying with Docker",slug:"/docker",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docker/README.md"},s="Docker Images",u={unversionedId:"docker/README",id:"version-0.13.0/docker/README",title:"Deploying with Docker",description:"Prerequisites",source:"@site/versioned_docs/version-0.13.0/docker/README.md",sourceDirName:"docker",slug:"/docker",permalink:"/docs/docker",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docker/README.md",tags:[],version:"0.13.0",frontMatter:{title:"Deploying with Docker",hide_title:!0,sidebar_label:"Deploying with Docker",slug:"/docker",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docker/README.md"},sidebar:"overviewSidebar",previous:{title:"Deploying to Azure",permalink:"/docs/deploy/azure"},next:{title:"Deploying with Kubernetes",permalink:"/docs/deploy/kubernetes"}},c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Quickstart",id:"quickstart",level:2},{value:"Ingesting demo data.",id:"ingesting-demo-data",level:3},{value:"Using Docker Images During Development",id:"using-docker-images-during-development",level:2},{value:"Building And Deploying Docker Images",id:"building-and-deploying-docker-images",level:2},{value:"Building images",id:"building-images",level:3},{value:"Community Built Images",id:"community-built-images",level:3}],p={toc:d},m="wrapper";function h(e){var{components:t}=e,r=i(e,["components"]);return(0,a.kt)(m,o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){n(e,t,r[t])}))}return e}({},p,r),{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"docker-images"},"Docker Images"),(0,a.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("p",null,"You need to install ",(0,a.kt)("a",{parentName:"p",href:"https://docs.docker.com/install/"},"docker")," and\n",(0,a.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"docker-compose")," (if using Linux; on Windows and Mac compose is included with\nDocker Desktop)."),(0,a.kt)("p",null,"Make sure to allocate enough hardware resources for Docker engine. Tested & confirmed config: 2 CPUs, 8GB RAM, 2GB Swap\narea."),(0,a.kt)("h2",{id:"quickstart"},"Quickstart"),(0,a.kt)("p",null,"The easiest way to bring up and test DataHub is using DataHub ",(0,a.kt)("a",{parentName:"p",href:"https://www.docker.com"},"Docker")," images\nwhich are continuously deployed to ",(0,a.kt)("a",{parentName:"p",href:"https://hub.docker.com/u/linkedin"},"Docker Hub")," with every commit to repository."),(0,a.kt)("p",null,"You can easily download and run all these images and their dependencies with our\n",(0,a.kt)("a",{parentName:"p",href:"/docs/quickstart"},"quick start guide"),"."),(0,a.kt)("p",null,"DataHub Docker Images:"),(0,a.kt)("p",null,"Do not use ",(0,a.kt)("inlineCode",{parentName:"p"},"latest")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"debug")," tags for any of the image as those are not supported and present only due to legacy reasons. Please use ",(0,a.kt)("inlineCode",{parentName:"p"},"head")," or tags specific for versions like ",(0,a.kt)("inlineCode",{parentName:"p"},"v0.8.40"),". For production we recommend using version specific tags not ",(0,a.kt)("inlineCode",{parentName:"p"},"head"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/acryldata/datahub-ingestion/"},"acryldata/datahub-ingestion")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/repository/docker/linkedin/datahub-gms/"},"linkedin/datahub-gms")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/repository/docker/linkedin/datahub-frontend-react/"},"linkedin/datahub-frontend-react")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/repository/docker/linkedin/datahub-mae-consumer/"},"linkedin/datahub-mae-consumer")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/repository/docker/linkedin/datahub-mce-consumer/"},"linkedin/datahub-mce-consumer")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/acryldata/datahub-upgrade/"},"acryldata/datahub-upgrade")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/acryldata/datahub-kafka-setup/"},"linkedin/datahub-kafka-setup")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/linkedin/datahub-elasticsearch-setup/"},"linkedin/datahub-elasticsearch-setup")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/acryldata/datahub-mysql-setup/"},"acryldata/datahub-mysql-setup")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/acryldata/datahub-postgres-setup/"},"acryldata/datahub-postgres-setup")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://hub.docker.com/r/acryldata/datahub-actions"},"acryldata/datahub-actions"),". Do not use ",(0,a.kt)("inlineCode",{parentName:"li"},"acryldata/acryl-datahub-actions")," as that is deprecated and no longer used.")),(0,a.kt)("p",null,"Dependencies:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/docker/kafka-setup"},"Kafka, Zookeeper, and Schema Registry")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/docker/elasticsearch-setup"},"Elasticsearch")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/docker/mysql"},"MySQL")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/docker/neo4j"},"(Optional) Neo4j"))),(0,a.kt)("h3",{id:"ingesting-demo-data"},"Ingesting demo data."),(0,a.kt)("p",null,"If you want to test ingesting some data once DataHub is up, use the ",(0,a.kt)("inlineCode",{parentName:"p"},"./docker/ingestion/ingestion.sh")," script or ",(0,a.kt)("inlineCode",{parentName:"p"},"datahub docker ingest-sample-data"),". See the ",(0,a.kt)("a",{parentName:"p",href:"/docs/quickstart"},"quickstart guide")," for more details."),(0,a.kt)("h2",{id:"using-docker-images-during-development"},"Using Docker Images During Development"),(0,a.kt)("p",null,"See ",(0,a.kt)("a",{parentName:"p",href:"/docs/docker/development"},"Using Docker Images During Development"),"."),(0,a.kt)("h2",{id:"building-and-deploying-docker-images"},"Building And Deploying Docker Images"),(0,a.kt)("p",null,"We use GitHub Actions to build and continuously deploy our images. There should be no need to do this manually; a\nsuccessful release on Github will automatically publish the images."),(0,a.kt)("h3",{id:"building-images"},"Building images"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"This is ",(0,a.kt)("strong",{parentName:"p"},"not")," our recommended development flow and most developers should be following the\n",(0,a.kt)("a",{parentName:"p",href:"/docs/docker/development"},"Using Docker Images During Development")," guide.")),(0,a.kt)("p",null,"To build the full images (that we are going to publish), you need to run the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"COMPOSE_DOCKER_CLI_BUILD=1 DOCKER_BUILDKIT=1 docker compose -p datahub build\n")),(0,a.kt)("p",null,"This is because we're relying on builtkit for multistage builds. It does not hurt also set ",(0,a.kt)("inlineCode",{parentName:"p"},"DATAHUB_VERSION")," to\nsomething unique."),(0,a.kt)("h3",{id:"community-built-images"},"Community Built Images"),(0,a.kt)("p",null,"As the open source project grows, community members would like to contribute additions to the docker images. Not all contributions to the images can be accepted because those changes are not useful for all community members, it will increase build times, add dependencies and possible security vulns. In those cases this section can be used to point to ",(0,a.kt)("inlineCode",{parentName:"p"},"Dockerfiles")," hosted by the community which build on top of the images published by the DataHub core team along with any container registry links where the result of those images are maintained."))}h.isMDXComponent=!0}}]);